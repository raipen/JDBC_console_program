<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>호반우 런</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="main.css"/>
</head>
<body>
    <header>
    </header>
    <canvas id="game">
    </canvas>
    <footer>
        <canvas id="skill"></canvas>
        <canvas id="item"></canvas>
        <div id="arrow">
            <div></div>
            <div class="arrowbutton" id="up">↑</div>
            <div></div>
            <div class="arrowbutton" id="left">←</div>
            <div class="arrowbutton" id="down">↓</div>
            <div class="arrowbutton" id="right">→</div>
        </div>
        <div id="jump">점프(스페이스바)</div>
        <canvas id="status"></canvas>
    </footer>
    <div id="modal" class="modal">
    </div>
    <script type='module'>
        import {main} from './js/index.js';
        import {ajax,get_cookie} from './js/utils.js';
        const checkLoginedCharacter = async ()=>{
            if((await ajax('../apis/checkLoginedCharacter.jsp')).result == false){
                alert('잘못된 접근입니다.');
                location.href = '../index.jsp';
            }
        }
        checkLoginedCharacter();
        const mapNo = location.search.split("=")[1];
        main(mapNo, get_cookie("characterId"));
    </script>
</body>

</html>