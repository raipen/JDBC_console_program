<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>호반우 런</title>
    <link rel="stylesheet" href="css/choiceMap.css">
</head>
<body>
    <div id="contents">
        
    </div>
   
   
   
   
   
   <script type='module'>
        import { get_cookie, ajax } from './game/js/utils.js';
        const getCharacterList = async () => {
            const result = await ajax('apis/getMapList.jsp', {});
            console.log(result);
            const contents = document.querySelector('#contents');
            let html = '';
            for (let i = 0; i < result.length; i++)
            {
                html += `
                <div class="map" value="${result[i].no}">
                    <div class="button">맵이름:${result[i].name}</div>
                    <div class="button">난이도:${result[i].difficulty}</div>
                    <button>랭킹</button>
                    <button><a href="game/?=${result[i].no}">플레이</a></button>
                </div>`;
            }
          // <div class="button"> 캐릭터 생성</div>
           
             contents.innerHTML = html;

        //     console.log(contents);

           
        //     const buttons = document.querySelectorAll('.button');
        //     for (let i = 0; i < buttons.length; i++)
        //         buttons[i].addEventListener('click', async (e) => {
        //             console.log(e.target);
        //             const mapNo = e.target.innerHTML.map;

        //             const right = document.querySelector('#right');
        //             console.log(mapNo);
        //             const result = await ajax('../apis/getCharacterList.jsp', { no:mapNo });
        //             let html = '';
        //             console.log(result);
        //             for (let i = 0; i < result.length; i++)
        //                 html += `<div class="button">${result[i].mapNo}</div>`;
        //             console.log(result);
        //             console.log(right);
        //             right.innerHTML = html;
        //         });
        // 
        }
        getCharacterList();
    </script>
</body>
</html>